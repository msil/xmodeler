<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Conditional Expressions</title><link rel="stylesheet" href="book.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="XMF Bluebook"><link rel="up" href="ch04.html" title="An Introduction to XOCL"><link rel="prev" href="ch04s10.html" title="Logical Expressions"><link rel="next" href="ch04s12.html" title="Imperative Features"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id647388"></a>Conditional Expressions</h2></div></div></div><p>The standard if and case expressions are provided in XOCL.</p><p>The syntax of an "if" expression is shown below. Note, both the else
    and elseif expressions are optional.</p><pre class="programlisting">if condition then
  expression
elseif condition
  expression
else
  expression
end</pre><p>Here is an example that makes use of an "if" expression to determine
    whether a new component can be added to a component model.</p><pre class="programlisting">context ComponentModel
  @Operation addToComponents(v : Component):XCore::Element
    if components-&gt;exists(c |
      c.name = v.name)
    then
      self.error("Cant add a component with the same name as an existing component")
    else
      self.components := self.components-&gt;including(v)
    end
  end</pre><p>The syntax of a "case" expression is shown below.</p><pre class="programlisting">@Case var of
  [ pattern1 ] do expression end
  [ pattern2 ] do expression end
end</pre><p>Here is an example that makes use of a "case" expression to
    determine the type of a Port and to print out a report.</p><pre class="programlisting">context Port  
  @Operation testPort()
    let p = self.type
    in @Case p of
           [ "Integer" ] do
             "An Integer Port".println()
           end
           [ "Complex" ] do
             "A Complex Port".println()
           end
     end
   end</pre></div><p></p><p><img src="copyright.gif"></p></body></html>
